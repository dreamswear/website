<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>Cr√©ateurs - Dreamswear</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ========== RESET & VARIABLES ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #d4af37;
            --primary-dark: #b8941f;
            --dark: #1a1a1a;
            --dark-light: #2d2d2d;
            --light: #f8f9fa;
            --gray: #6c757d;
            --gray-light: #e9ecef;
            --white: #ffffff;
            --shadow: 0 2px 15px rgba(0,0,0,0.05);
            --shadow-hover: 0 5px 20px rgba(0,0,0,0.12);
            --radius: 10px;
            --radius-sm: 5px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* ========== HEADER ========== */
        .dashboard-header {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 3px solid var(--primary);
        }

        .dashboard-header .container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: center;
            text-align: center;
        }

        .logo a {
            color: white;
            text-decoration: none;
            font-size: 1.8rem;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .header-actions {
            display: flex;
            gap: 0.8rem;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: var(--radius-sm);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            border: none;
            cursor: pointer;
            font-size: 0.95rem;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid white;
            color: white;
        }

        .btn-outline:hover {
            background: white;
            color: var(--dark);
        }

        .btn-logout {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .btn-logout:hover {
            background: rgba(255,255,255,0.3);
        }

        /* ========== MAIN CONTENT ========== */
        .dashboard-main {
            padding: 2rem 0;
            min-height: calc(100vh - 80px);
        }

        .page-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .page-header h1 {
            font-size: 2rem;
            color: var(--dark);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            flex-wrap: wrap;
        }

        .page-header h1 i {
            color: var(--primary);
        }

        .page-subtitle {
            color: var(--gray);
            font-size: 1rem;
        }

        section {
            margin-bottom: 2.5rem;
            background: var(--white);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }

        section h2 {
            font-size: 1.5rem;
            color: #444;
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 0.8rem;
        }

        section h2 i {
            color: var(--primary);
        }

        /* ========== STATS ========== */
        .stats-simple {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            border-radius: var(--radius);
            padding: 2rem;
            text-align: center;
            margin-bottom: 1rem;
            border-left: 5px solid var(--primary);
        }

        .stats-simple h3 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .stats-simple p {
            font-size: 1.1rem;
            opacity: 0.9;
            letter-spacing: 1px;
        }

        /* ========== CREATORS GRID ========== */
        .creators-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            margin-top: 1.2rem;
        }

        .creator-card {
            background: #fff;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #eaeaea;
            display: flex;
            flex-direction: column;
        }

        .creator-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary);
        }

        .creator-header {
            display: flex;
            align-items: center;
            padding: 1.2rem;
            background: linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%);
            border-bottom: 1px solid #eaeaea;
        }

        .creator-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.8rem;
            color: var(--primary);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border: 2px solid var(--primary);
            flex-shrink: 0;
        }

        .creator-info {
            flex: 1;
        }

        .creator-info h3 {
            margin: 0 0 0.2rem;
            font-size: 1.2rem;
            color: #333;
        }

        .creator-brand {
            color: var(--primary);
            font-weight: 600;
            margin: 0.1rem 0;
            font-size: 0.95rem;
        }

        .creator-domain {
            color: #666;
            font-size: 0.8rem;
            font-style: italic;
        }

        /* ========== BIO ========== */
        .creator-bio {
            padding: 1.2rem;
            color: #555;
            font-size: 0.95rem;
            line-height: 1.6;
            border-bottom: 1px solid #eee;
            background: white;
        }

        /* ========== COLLECTIONS ========== */
        .collections-section {
            padding: 1.2rem;
            background: white;
            border-bottom: 1px solid #eee;
        }

        .collections-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--dark);
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .collections-title i {
            color: var(--primary);
        }

        .collections-list {
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
        }

        .collection-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: var(--radius-sm);
            border-left: 3px solid var(--primary);
            font-size: 0.9rem;
            color: #555;
        }

        .collection-item i {
            color: var(--primary);
            width: 20px;
            text-align: center;
        }

        .no-collections {
            color: var(--gray);
            font-style: italic;
            padding: 0.5rem;
            font-size: 0.9rem;
            text-align: center;
            background: #f8f9fa;
            border-radius: var(--radius-sm);
        }

        /* ========== CONTACT INFO ========== */
        .contact-section {
            padding: 1.2rem;
            background: white;
        }

        .contact-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--dark);
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .contact-title i {
            color: var(--primary);
        }

        .contact-list {
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: var(--radius-sm);
            font-size: 0.9rem;
            color: #555;
            word-break: break-word;
        }

        .contact-item i {
            color: var(--primary);
            width: 20px;
            text-align: center;
        }

        .contact-item a {
            color: #555;
            text-decoration: none;
            transition: color 0.2s;
        }

        .contact-item a:hover {
            color: var(--primary);
            text-decoration: underline;
        }

        /* ========== EVENTS ========== */
        .events-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.2rem;
            margin-top: 1.2rem;
        }

        .event-card {
            display: flex;
            flex-direction: column;
            background: #fff;
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid #eaeaea;
            transition: transform 0.3s ease;
        }

        .event-card:hover {
            transform: translateX(5px);
            border-color: var(--primary);
        }

        .event-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .event-date-box {
            background: rgba(255,255,255,0.2);
            border-radius: 8px;
            padding: 0.5rem;
            min-width: 60px;
            text-align: center;
        }

        .event-day {
            font-size: 1.5rem;
            font-weight: bold;
            line-height: 1;
        }

        .event-month {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .event-title {
            flex: 1;
            font-weight: 600;
        }

        .event-body {
            padding: 1.2rem;
        }

        .event-description {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        .event-details {
            display: flex;
            gap: 1rem;
            color: #777;
            font-size: 0.85rem;
            flex-wrap: wrap;
        }

        .event-details span {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        /* ========== EMPTY STATES ========== */
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #666;
        }

        .empty-state i {
            font-size: 3rem;
            color: #ddd;
            margin-bottom: 1rem;
        }

        .empty-state h3 {
            color: #666;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        /* ========== LOADING ========== */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3rem;
        }

        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ========== RESPONSIVE ========== */
        @media (min-width: 481px) {
            .dashboard-header .container {
                flex-direction: row;
                justify-content: space-between;
                text-align: left;
            }
            .header-actions {
                width: auto;
            }
            .creators-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .events-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 769px) {
            .creators-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            .events-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            section {
                padding: 2rem;
            }
        }

        @media (max-width: 480px) {
            .btn-text {
                display: none;
            }
            .btn i, .btn-logout i {
                margin: 0;
                font-size: 1.1rem;
            }
            .btn, .btn-logout {
                padding: 0.5rem;
                min-width: 40px;
                justify-content: center;
            }
            .creator-header {
                flex-direction: column;
                text-align: center;
            }
            .creator-avatar {
                margin-right: 0;
                margin-bottom: 0.8rem;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .creators-grid, .events-grid {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body>
    <!-- ========== SCRIPTS ========== -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="session-manager.js"></script>
    <script src="config.js"></script>
    <script src="dashboard-common.js"></script>

    <!-- ========== HEADER ========== -->
    <header class="dashboard-header">
        <div class="container">
            <div class="logo">
                <a href="index.html">DREAMS</a>
            </div>
            <div class="header-actions">
                <a href="dashboard-home.html" class="btn btn-outline">
                    <i class="fas fa-home"></i>
                    <span class="btn-text">Accueil</span>
                </a>
                <button id="logoutBtn" class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="btn-text">D√©connexion</span>
                </button>
            </div>
        </div>
    </header>

    <!-- ========== MAIN CONTENT ========== -->
    <main class="dashboard-main">
        <div class="container">
            <div class="page-header">
                <h1><i class="fas fa-users"></i> Communaut√© des Cr√©ateurs</h1>
                <p class="page-subtitle">D√©couvrez les talents qui font vibrer Dreamswear</p>
            </div>

            <!-- Statistique : nombre total de cr√©ateurs -->
            <div class="stats-simple" id="statsContainer">
                <h3 id="totalCreators">0</h3>
                <p>CR√âATEURS ACTIFS DANS LA COMMUNAUT√â</p>
            </div>

            <!-- Tous les cr√©ateurs -->
            <section>
                <h2><i class="fas fa-star"></i> Tous les cr√©ateurs</h2>
                <div class="creators-grid" id="creatorsGrid">
                    <div class="loading">
                        <div class="loader"></div>
                    </div>
                </div>
            </section>

            <!-- √âv√©nements √† venir -->
            <section>
                <h2><i class="fas fa-calendar-alt"></i> √âv√©nements √† venir</h2>
                <div class="events-grid" id="eventsGrid">
                    <div class="loading">
                        <div class="loader"></div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- ========== SCRIPT PRINCIPAL ========== -->
    <script>
        (function() {
            'use strict';

            console.log('üë• Page Communaut√© des Cr√©ateurs');

            // ===== 1. V√âRIFICATION SESSION =====
            if (!window.SessionManager) {
                window.location.href = 'index.html';
                return;
            }

            if (typeof window.SessionManager.initSupabase === 'function') {
                window.SessionManager.initSupabase();
            }

            if (!window.SessionManager.isCreatorLoggedIn()) {
                window.location.href = 'index.html';
                return;
            }

            // R√©cup√©rer l'ID du cr√©ateur connect√© pour ne PAS afficher son contact
            const currentCreatorId = window.SessionManager.getCreatorData().id;

            const supabase = window.SessionManager.supabase;
            
            if (!supabase) {
                console.error('‚ùå Supabase non disponible');
                showErrorStates();
                return;
            }

            // ===== 2. CHARGEMENT DE TOUS LES CR√âATEURS =====
            loadAllCreators();
            
            // ===== 3. CHARGEMENT DES √âV√âNEMENTS =====
            loadEvents();

            // ===== 4. D√âCONNEXION =====
            document.getElementById('logoutBtn')?.addEventListener('click', function(e) {
                e.preventDefault();
                if (confirm('√ätes-vous s√ªr de vouloir vous d√©connecter ?')) {
                    window.SessionManager.logout();
                    window.location.href = 'index.html';
                }
            });

            // ===== 5. FONCTION : CHARGER TOUS LES CR√âATEURS =====
            async function loadAllCreators() {
                const grid = document.getElementById('creatorsGrid');
                if (!grid) return;

                try {
                    // R√©cup√©rer TOUS les cr√©ateurs de la table "cr√©ateurs"
                    const { data: creators, error } = await supabase
                        .from('cr√©ateurs')
                        .select('*')
                        .order('date_inscription', { ascending: false });

                    if (error) throw error;

                    // Mettre √† jour le compteur total
                    const totalCreators = creators?.length || 0;
                    document.getElementById('totalCreators').textContent = totalCreators;

                    if (!creators?.length) {
                        grid.innerHTML = `
                            <div class="empty-state">
                                <i class="fas fa-users-slash"></i>
                                <h3>Aucun cr√©ateur pour le moment</h3>
                                <p>Soyez le premier √† rejoindre la communaut√© !</p>
                            </div>
                        `;
                        return;
                    }

                    // G√©n√©rer les cartes des cr√©ateurs
                    let creatorsHTML = '';

                    for (const creator of creators) {
                        // Ne pas afficher le contact du cr√©ateur connect√©
                        const isCurrentCreator = creator.id === currentCreatorId;
                        
                        const prenom = creator.prenom || '';
                        const nom = creator.nom || '';
                        const fullName = `${prenom} ${nom}`.trim();
                        const displayName = fullName || creator.nom_marque || 'Cr√©ateur';
                        const brand = creator.nom_marque || displayName;
                        const domain = creator.domaine || 'Cr√©ateur mode';
                        const bio = creator.biographie || 'Cr√©ateur passionn√© par la mode et le design.';
                        
                        // Initiales pour l'avatar
                        const initials = (prenom.charAt(0) || '') + (nom.charAt(0) || '') || 
                                       (creator.nom_marque ? creator.nom_marque.charAt(0) : '') || 'üë§';

                        // R√©cup√©rer les collections du cr√©ateur
                        const collections = await loadCreatorCollections(creator.id);
                        
                        // G√©n√©rer la section collections
                        const collectionsHTML = generateCollectionsHTML(collections);
                        
                        // G√©n√©rer la section contact (uniquement si ce n'est pas le cr√©ateur connect√©)
                        const contactHTML = !isCurrentCreator ? generateContactHTML(creator) : '';

                        creatorsHTML += `
                            <div class="creator-card">
                                <div class="creator-header">
                                    <div class="creator-avatar">
                                        ${initials.length > 1 ? `<span style="font-size: 1.8rem; font-weight: bold; color: var(--primary);">${initials}</span>` : '<i class="fas fa-user-circle" style="font-size: 2rem;"></i>'}
                                    </div>
                                    <div class="creator-info">
                                        <h3>${brand}</h3>
                                        <p class="creator-brand">${fullName || ''}</p>
                                        <p class="creator-domain">${domain}</p>
                                    </div>
                                </div>
                                <div class="creator-bio">
                                    ${bio.substring(0, 120)}${bio.length > 120 ? '...' : ''}
                                </div>
                                ${collectionsHTML}
                                ${contactHTML}
                            </div>
                        `;
                    }

                    grid.innerHTML = creatorsHTML;

                } catch (error) {
                    console.error('‚ùå Erreur chargement cr√©ateurs:', error);
                    grid.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h3>Erreur de chargement</h3>
                            <p>Impossible de charger les cr√©ateurs</p>
                        </div>
                    `;
                    document.getElementById('totalCreators').textContent = '0';
                }
            }

            // ===== 6. FONCTION : CHARGER LES COLLECTIONS D'UN CR√âATEUR =====
            async function loadCreatorCollections(creatorId) {
                try {
                    // D'abord r√©cup√©rer le portfolio du cr√©ateur
                    const { data: portfolio } = await supabase
                        .from('portfolio')
                        .select('id')
                        .eq('creator_id', creatorId)
                        .maybeSingle();

                    if (!portfolio) return [];

                    // Ensuite r√©cup√©rer ses collections
                    const { data: collections } = await supabase
                        .from('collections')
                        .select('*')
                        .eq('portfolio_id', portfolio.id)
                        .order('created_at', { ascending: false })
                        .limit(3); // Maximum 3 collections

                    return collections || [];

                } catch (error) {
                    console.warn(`‚ö†Ô∏è Erreur chargement collections pour ${creatorId}:`, error.message);
                    return [];
                }
            }

            // ===== 7. FONCTION : G√âN√âRER LE HTML DES COLLECTIONS =====
            function generateCollectionsHTML(collections) {
                if (!collections || collections.length === 0) {
                    return `
                        <div class="collections-section">
                            <div class="collections-title">
                                <i class="fas fa-book-open"></i> Collections
                            </div>
                            <div class="no-collections">
                                <i class="fas fa-archive"></i> Aucune collection pour le moment
                            </div>
                        </div>
                    `;
                }

                const collectionsList = collections.map(col => {
                    let icon = 'fa-tshirt';
                    if (col.type === 'lookbook') icon = 'fa-book-open';
                    if (col.type === 'defile') icon = 'fa-walking';
                    if (col.type === 'capsule') icon = 'fa-tshirt';
                    if (col.type === 'saisonniere') icon = 'fa-leaf';
                    if (col.type === 'speciale') icon = 'fa-star';

                    return `
                        <div class="collection-item">
                            <i class="fas ${icon}"></i>
                            <span><strong>${col.name || col.nom || 'Collection'}</strong> ${col.description ? `- ${col.description.substring(0, 50)}${col.description.length > 50 ? '...' : ''}` : ''}</span>
                        </div>
                    `;
                }).join('');

                return `
                    <div class="collections-section">
                        <div class="collections-title">
                            <i class="fas fa-book-open"></i> Collections (${collections.length})
                        </div>
                        <div class="collections-list">
                            ${collectionsList}
                        </div>
                    </div>
                `;
            }

            // ===== 8. FONCTION : G√âN√âRER LE HTML DES CONTACTS =====
            function generateContactHTML(creator) {
                const hasEmail = creator.email;
                const hasInstagram = creator.instagram || creator.reseaux_instagram;
                const hasWebsite = creator.site_web;
                const hasPhone = creator.telephone;

                if (!hasEmail && !hasInstagram && !hasWebsite && !hasPhone) {
                    return `
                        <div class="contact-section">
                            <div class="contact-title">
                                <i class="fas fa-address-card"></i> Contact
                            </div>
                            <div class="no-collections">
                                <i class="fas fa-user-slash"></i> Aucun contact disponible
                            </div>
                        </div>
                    `;
                }

                let contactItems = '';

                if (hasEmail) {
                    contactItems += `
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <a href="mailto:${creator.email}">${creator.email}</a>
                        </div>
                    `;
                }

                if (hasInstagram) {
                    const instagram = creator.instagram || creator.reseaux_instagram;
                    const handle = instagram.startsWith('@') ? instagram : `@${instagram}`;
                    contactItems += `
                        <div class="contact-item">
                            <i class="fab fa-instagram"></i>
                            <a href="https://instagram.com/${instagram.replace('@', '')}" target="_blank">${handle}</a>
                        </div>
                    `;
                }

                if (hasWebsite) {
                    let website = creator.site_web;
                    let displayWebsite = website.replace(/^https?:\/\//, '').replace(/\/$/, '');
                    if (displayWebsite.length > 30) {
                        displayWebsite = displayWebsite.substring(0, 27) + '...';
                    }
                    contactItems += `
                        <div class="contact-item">
                            <i class="fas fa-globe"></i>
                            <a href="${website}" target="_blank">${displayWebsite}</a>
                        </div>
                    `;
                }

                if (hasPhone) {
                    contactItems += `
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <a href="tel:${creator.telephone}">${creator.telephone}</a>
                        </div>
                    `;
                }

                return `
                    <div class="contact-section">
                        <div class="contact-title">
                            <i class="fas fa-address-card"></i> Contact
                        </div>
                        <div class="contact-list">
                            ${contactItems}
                        </div>
                    </div>
                `;
            }

            // ===== 9. FONCTION : CHARGER LES √âV√âNEMENTS =====
            async function loadEvents() {
                const grid = document.getElementById('eventsGrid');
                if (!grid) return;

                try {
                    const today = new Date().toISOString().split('T')[0];

                    const { data: events, error } = await supabase
                        .from('events')
                        .select('*')
                        .gte('date', today)
                        .order('date', { ascending: true })
                        .limit(6);

                    if (error) throw error;

                    if (!events?.length) {
                        grid.innerHTML = `
                            <div class="empty-state">
                                <i class="fas fa-calendar-times"></i>
                                <h3>Aucun √©v√©nement √† venir</h3>
                                <p>Revenez bient√¥t pour d√©couvrir nos prochains √©v√©nements</p>
                            </div>
                        `;
                        return;
                    }

                    grid.innerHTML = events.map(event => {
                        const eventDate = new Date(event.date);
                        const day = eventDate.getDate();
                        const month = eventDate.toLocaleDateString('fr-FR', { month: 'short' }).toUpperCase();
                        
                        return `
                            <div class="event-card">
                                <div class="event-header">
                                    <div class="event-date-box">
                                        <div class="event-day">${day}</div>
                                        <div class="event-month">${month}</div>
                                    </div>
                                    <div class="event-title">${event.title}</div>
                                </div>
                                <div class="event-body">
                                    <div class="event-description">
                                        ${event.description || 'Rejoignez-nous pour cet √©v√©nement unique d√©di√© aux cr√©ateurs de mode.'}
                                    </div>
                                    <div class="event-details">
                                        <span><i class="fas fa-clock"></i> ${event.time || '19:00'}</span>
                                        <span><i class="fas fa-map-marker-alt"></i> ${event.location || 'Paris'}</span>
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('');

                } catch (error) {
                    console.error('‚ùå Erreur chargement √©v√©nements:', error);
                    grid.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-calendar-times"></i>
                            <h3>√âv√©nements √† venir</h3>
                            <p>Consultez notre agenda pour d√©couvrir nos prochains rendez-vous</p>
                        </div>
                    `;
                }
            }

            // ===== 10. FONCTION : √âTATS D'ERREUR =====
            function showErrorStates() {
                document.getElementById('creatorsGrid').innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-users-slash"></i>
                        <h3>Service temporairement indisponible</h3>
                        <p>Les cr√©ateurs appara√Ætront bient√¥t</p>
                    </div>
                `;
                document.getElementById('eventsGrid').innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-calendar-times"></i>
                        <h3>Service temporairement indisponible</h3>
                        <p>Les √©v√©nements appara√Ætront bient√¥t</p>
                    </div>
                `;
                document.getElementById('totalCreators').textContent = '0';
            }

        })();
    </script>
</body>
</html>
